/*! kiiri-angular-directives: Built on 2015-10-03 */
var clickOutside=angular.module("kiiri.angular.clickoutside",[]);clickOutside.directive("clickoutside",["$document","Helpers",function(a,b){"use strict";return{restrict:"AE",scope:{onClickOutside:"=",enabled:"=?"},link:function(c,d,e){e.id?c.mainElementId=e.id:(c.mainElementId=b.guid(),$(d).attr("id",c.mainElementId));var f=function(a){if(c.enabled!==!1&&a&&a.target){for(var b=a.target;b;b=b.parentNode){var d=b.id;if(void 0!==d&&d===c.mainElementId)return}c.$apply(function(){c.onClickOutside()})}};a.on("click",f),c.$on("$destroy",function(){a.off("click",f)})}}}]);var app=angular.module("kiiri.angular",["kiiri.angular.clickoutside","kiiri.angular.modal"]);app.service("Helpers",function(){this.defaultValue=function(a,b,c){a[b]||(a[b]=c)},this.guid=function(){function a(a){var b=(Math.random().toString(16)+"000000000").substr(2,8);return a?"-"+b.substr(0,4)+"-"+b.substr(4,4):b}return a()+a(!0)+a(!0)+a()}});var modal=angular.module("kiiri.angular.modal",[]);modal.controller("modalController",["$scope","Helpers",function(a,b){"use strict";b.defaultValue(a,"closeCallback",angular.noop),a.closeModal=function(){a.isOpen=!1,a.closeCallback()}}]),modal.directive("modal",[function(){"use strict";return{restrict:"AE",templateUrl:"src/modal/kiiri-modal.tpl.html",scope:{isOpen:"=",closeCallback:"=?",overflow:"=?"},transclude:!0,controller:"modalController",link:function(a,b){a.$watch("isOpen",function(){var a=$(b).find(".modal-frame").width();$(".modal-frame").css("margin-left",-1*(a/2))})}}}]),angular.module("kiiri.angular").run(["$templateCache",function(a){"use strict";a.put("src/modal/kiiri-modal.tpl.html",'<div class="kiiri-modal" ng-cloak><div class="modal-frame not-visible" ng-class="{ visible: isOpen }"><div class="modal-body" ng-class="{\'overflow-inherit\' : overflow === \'inherit\'}" clickoutside on-click-outside="closeModal" ng-transclude></div></div><div ng-show="isOpen" class="modal-background ng-hide"></div></div>')}]);