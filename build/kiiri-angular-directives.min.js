/*! kiiri-angular-directives: Built on 2015-10-04 */
var button=angular.module("kiiri.angular.button",[]);button.controller("buttonController",["$scope","Helpers",function(a,b){"use strict";b.defaultValue(a,"propagate",!1),a.onClick=function(b){a.propagate||b.stopPropagation(),a.disabled||a.loading||a.click()}}]),button.directive("angularButton",[function(){"use strict";return{restrict:"E",templateUrl:"src/button/kiiri-button.tpl.html",scope:{click:"&",loading:"=?",type:"@?",disabled:"=?",fill:"=?"},transclude:!0,controller:"buttonController"}}]);var clickOutside=angular.module("kiiri.angular.clickoutside",[]);clickOutside.directive("clickoutside",["$document","Helpers",function(a,b){"use strict";return{restrict:"A",scope:{onClickOutside:"=",isEnabled:"=?"},link:function(c,d,e){e.id?c.mainElementId=e.id:(c.mainElementId=b.guid(),$(d).attr("id",c.mainElementId));var f=function(a){if(c.isEnabled!==!1&&a&&a.target){for(var b=a.target;b;b=b.parentNode){var d=b.id;if(void 0!==d&&d===c.mainElementId)return}c.$apply(function(){c.onClickOutside()})}};a.on("click",f),c.$on("$destroy",function(){a.off("click",f)})}}}]);var dropdown=angular.module("kiiri.angular.dropdown",[]);dropdown.controller("dropdownController",["$scope","Helpers",function(a,b){"use strict";b.defaultValue(a,"items",[]),a.itemDisplay=function(a){return angular.isObject(a)?a.name:a},a.itemValue=function(a){return angular.isObject(a)?a.value:a},a.selectItem=function(b){a.selectedItem=b,a.dropdownOpen=!1},a.toggleDropdown=function(){a.dropdownOpen=!a.dropdownOpen},a.closeDropdown=function(){a.dropdownOpen=!1},a.$watch("items",function(b,c){a.autoSelect&&a.items.length>0?a.selectedItem&&b===c||(a.selectedItem=a.items[0]):a.selectedItem=null},!0)}]),dropdown.directive("dropdown",[function(){"use strict";return{restrict:"E",templateUrl:"src/dropdown/kiiri-dropdown.tpl.html",scope:{autoSelect:"=?",defaultText:"@?",disabled:"=?",emptyText:"@?",icon:"@?",formName:"@?",items:"=?",selectedItem:"=?"},controller:"dropdownController"}}]);var input=angular.module("kiiri.angular.input",[]);input.controller("inputController",["$scope","Helpers",function(a,b){"use strict";b.defaultValue(a,"fill",!1),b.defaultValue(a,"invalid",!1),b.defaultValue(a,"type","text"),a.defaultValue&&(a.value=a.defaultValue)}]),input.directive("inputField",[function(){"use strict";return{restrict:"E",templateUrl:"src/input-field/kiiri-input-field.tpl.html",scope:{defaultValue:"@?",disabled:"=?",fill:"=?",invalid:"=?",name:"@?",placeholder:"@?",type:"@?",value:"="},controller:"inputController"}}]);var app=angular.module("kiiri.angular",["kiiri.angular.button","kiiri.angular.clickoutside","kiiri.angular.dropdown","kiiri.angular.input","kiiri.angular.modal","kiiri.angular.textarea"]);app.service("Helpers",function(){this.defaultValue=function(a,b,c){a[b]||(a[b]=c)},this.guid=function(){function a(a){var b=(Math.random().toString(16)+"000000000").substr(2,8);return a?"-"+b.substr(0,4)+"-"+b.substr(4,4):b}return a()+a(!0)+a(!0)+a()}});var modal=angular.module("kiiri.angular.modal",[]);modal.controller("modalController",["$scope","Helpers",function(a,b){"use strict";b.defaultValue(a,"closeCallback",angular.noop),b.defaultValue(a,"isOpen",!1),a.closeModal=function(){a.isOpen=!1,a.fadeOut=!0,a.closeCallback()}}]),modal.directive("modal",[function(){"use strict";return{restrict:"E",templateUrl:"src/modal/kiiri-modal.tpl.html",scope:{isOpen:"=",closeCallback:"=?",overflow:"=?"},transclude:!0,controller:"modalController",link:function(a,b){a.$watch("isOpen",function(c,d){var e=$(b).find(".modal-frame").width();$(".modal-frame").css("margin-left",-1*(e/2)),c!==d&&(a.fadeOut=!a.isOpen)})}}}]),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="monospaced.elastic"),angular.module("monospaced.elastic",[]).constant("msdElasticConfig",{append:""}).directive("msdElastic",["$timeout","$window","msdElasticConfig",function(a,b,c){"use strict";return{require:"ngModel",restrict:"A, C",link:function(d,e,f,g){function h(){var a=r;n=k,u=getComputedStyle(k),angular.forEach(C,function(b){a+=b+":"+u.getPropertyValue(b)+";"}),t.setAttribute("style",a)}function i(){var b,c,e,f,g;n!==k&&h(),o||(o=!0,t.value=k.value+p,t.style.overflowY=k.style.overflowY,b=""===k.style.height?"auto":parseInt(k.style.height,10),c=getComputedStyle(k).getPropertyValue("width"),"px"===c.substr(c.length-2,2)&&(f=parseInt(c,10)-x.width,t.style.width=f+"px"),e=t.scrollHeight,e>B?(e=B,g="scroll"):A>e&&(e=A),e+=x.height,k.style.overflowY=g||"hidden",b!==e&&(d.$emit("elastic:resize",l,b,e),k.style.height=e+"px"),a(function(){o=!1},1))}function j(){o=!1,i()}var k=e[0],l=e;if("TEXTAREA"===k.nodeName&&b.getComputedStyle){l.css({overflow:"hidden","overflow-y":"hidden","word-wrap":"break-word"});var m=k.value;k.value="",k.value=m;var n,o,p=f.msdElastic?f.msdElastic.replace(/\\n/g,"\n"):c.append,q=angular.element(b),r="position: absolute; top: -999px; right: auto; bottom: auto;left: 0; overflow: hidden; -webkit-box-sizing: content-box;-moz-box-sizing: content-box; box-sizing: content-box;min-height: 0 !important; height: 0 !important; padding: 0;word-wrap: break-word; border: 0;",s=angular.element('<textarea aria-hidden="true" tabindex="-1" style="'+r+'"/>').data("elastic",!0),t=s[0],u=getComputedStyle(k),v=u.getPropertyValue("resize"),w="border-box"===u.getPropertyValue("box-sizing")||"border-box"===u.getPropertyValue("-moz-box-sizing")||"border-box"===u.getPropertyValue("-webkit-box-sizing"),x=w?{width:parseInt(u.getPropertyValue("border-right-width"),10)+parseInt(u.getPropertyValue("padding-right"),10)+parseInt(u.getPropertyValue("padding-left"),10)+parseInt(u.getPropertyValue("border-left-width"),10),height:parseInt(u.getPropertyValue("border-top-width"),10)+parseInt(u.getPropertyValue("padding-top"),10)+parseInt(u.getPropertyValue("padding-bottom"),10)+parseInt(u.getPropertyValue("border-bottom-width"),10)}:{width:0,height:0},y=parseInt(u.getPropertyValue("min-height"),10),z=parseInt(u.getPropertyValue("height"),10),A=Math.max(y,z)-x.height,B=parseInt(u.getPropertyValue("max-height"),10),C=["font-family","font-size","font-weight","font-style","letter-spacing","line-height","text-transform","word-spacing","text-indent"];l.data("elastic")||(B=B&&B>0?B:9e4,t.parentNode!==document.body&&angular.element(document.body).append(t),l.css({resize:"none"===v||"vertical"===v?"none":"horizontal"}).data("elastic",!0),"onpropertychange"in k&&"oninput"in k?k.oninput=k.onkeyup=i:k.oninput=i,q.bind("resize",j),d.$watch(function(){return g.$modelValue},function(a){j()}),d.$on("elastic:adjust",function(){h(),j()}),a(i),d.$on("$destroy",function(){s.remove(),q.unbind("resize",j)}))}}}}]);var textarea=angular.module("kiiri.angular.textarea",["monospaced.elastic"]);textarea.controller("textareaController",["$scope","Helpers",function(a,b){"use strict"}]),textarea.directive("textArea",[function(){"use strict";return{restrict:"E",templateUrl:"src/textarea/kiiri-text-area.tpl.html",scope:{fill:"=?",invalid:"=?",name:"@?",placeholder:"@?",value:"="},controller:"textareaController"}}]),angular.module("kiiri.angular").run(["$templateCache",function(a){"use strict";a.put("src/button/kiiri-button.tpl.html",'<div class="kiiri-button" ng-class="{ grey: type === \'grey\', disabled: disabled, loading: loading, fill: fill }" ng-click="onClick($event)"><span ng-transclude></span><i class="fa fa-refresh fa-spin" ng-if="loading"></i></div>'),a.put("src/dropdown/kiiri-dropdown.tpl.html",'<div class="kiiri-dropdown" ng-click="toggleDropdown()" clickoutside on-click-outside="closeDropdown" is-enabled="dropdownOpen" ng-class="{ empty: (items.length === 0), disabled: disabled }"><table id="table-id" ng-class="{ open: dropdownOpen }"><tr id="table-current"><td><div class="kiiri-dropdown-current-item" style="background-image: url(\'{{icon}}\')" ng-class="{ \'has-icon\': icon, empty: (items.length === 0), disabled: disabled }">{{ itemDisplay(selectedItem) || (items.length === 0 && emptyText) || defaultText }}</div></td></tr><tr><td><div class="kiiri-dropdown-items" ng-class="{ visible: dropdownOpen }"><div class="kiiri-dropdown-item" ng-repeat="item in items" ng-class="{ \'has-icon\': icon }" ng-click="selectItem(item); $event.stopPropagation()">{{itemDisplay(item)}}</div></div></td></tr></table><input ng-if="formName" name="{{formName}}" value="{{ itemValue(selectedItem) }}"></div>'),a.put("src/input-field/kiiri-input-field.tpl.html",'<div class="kiiri-input-field" ng-class="{ fill: fill }"><input type="{{type}}" placeholder="{{placeholder}}" name="{{name}}" ng-model="value" ng-class="{ invalid: invalid }" disabled></div>'),a.put("src/modal/kiiri-modal.tpl.html",'<div class="kiiri-modal" ng-cloak><div class="modal-frame not-visible" ng-class="{ visible: isOpen, \'fade-in\': isOpen, \'fade-out\': fadeOut }"><div class="modal-body" ng-class="{\'overflow-inherit\': overflow === \'inherit\'}" clickoutside is-enabled="isOpen" on-click-outside="closeModal" ng-transclude></div></div><div ng-show="isOpen" class="modal-background ng-hide"></div></div>'),a.put("src/textarea/kiiri-text-area.tpl.html",'<div class="kiiri-text-area" ng-class="{ fill: fill }"><textarea ng-model="value" placeholder="{{placeholder}}" name="{{name}}" msd-elastic ng-class="{ invalid: invalid }"></textarea></div>')}]);