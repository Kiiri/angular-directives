/*! kiiri-angular-directives: Built on 2015-10-03 */
var button=angular.module("kiiri.angular.button",[]);button.controller("buttonController",["$scope","Helpers",function(a,b){"use strict";b.defaultValue(a,"propagate",!1),a.onClick=function(b){a.propagate||b.stopPropagation(),a.disabled||a.loading||a.click()}}]),button.directive("kiiriButton",[function(){"use strict";return{restrict:"E",templateUrl:"src/button/kiiri-button.tpl.html",scope:{click:"&",loading:"=?",type:"@?",disabled:"=?",fill:"=?"},transclude:!0,controller:"buttonController"}}]);var clickOutside=angular.module("kiiri.angular.clickoutside",[]);clickOutside.directive("clickoutside",["$document","Helpers",function(a,b){"use strict";return{restrict:"A",scope:{onClickOutside:"=",isEnabled:"=?"},link:function(c,d,e){e.id?c.mainElementId=e.id:(c.mainElementId=b.guid(),$(d).attr("id",c.mainElementId));var f=function(a){if(c.isEnabled!==!1&&a&&a.target){for(var b=a.target;b;b=b.parentNode){var d=b.id;if(void 0!==d&&d===c.mainElementId)return}c.$apply(function(){c.onClickOutside()})}};a.on("click",f),c.$on("$destroy",function(){a.off("click",f)})}}}]);var input=angular.module("kiiri.angular.input",[]);input.controller("inputController",["$scope","Helpers",function(a,b){"use strict";b.defaultValue(a,"fill",!1),b.defaultValue(a,"invalid",!1),b.defaultValue(a,"type","text"),a.defaultValue&&(a.value=a.defaultValue)}]),input.directive("inputField",[function(){"use strict";return{restrict:"E",templateUrl:"src/input-field/kiiri-input-field.tpl.html",scope:{defaultValue:"@?",fill:"=?",invalid:"=?",name:"@?",placeholder:"@?",type:"@?",value:"="},controller:"inputController"}}]);var app=angular.module("kiiri.angular",["kiiri.angular.button","kiiri.angular.clickoutside","kiiri.angular.input","kiiri.angular.modal"]);app.service("Helpers",function(){this.defaultValue=function(a,b,c){a[b]||(a[b]=c)},this.guid=function(){function a(a){var b=(Math.random().toString(16)+"000000000").substr(2,8);return a?"-"+b.substr(0,4)+"-"+b.substr(4,4):b}return a()+a(!0)+a(!0)+a()}});var modal=angular.module("kiiri.angular.modal",[]);modal.controller("modalController",["$scope","Helpers",function(a,b){"use strict";b.defaultValue(a,"closeCallback",angular.noop),a.closeModal=function(){a.isOpen=!1,a.fadeOut=!0,a.closeCallback()}}]),modal.directive("modal",[function(){"use strict";return{restrict:"E",templateUrl:"src/modal/kiiri-modal.tpl.html",scope:{isOpen:"=",closeCallback:"=?",overflow:"=?"},transclude:!0,controller:"modalController",link:function(a,b){a.$watch("isOpen",function(c,d){var e=$(b).find(".modal-frame").width();$(".modal-frame").css("margin-left",-1*(e/2)),c!==d&&(a.fadeOut=!a.isOpen)})}}}]),angular.module("kiiri.angular").run(["$templateCache",function(a){"use strict";a.put("src/button/kiiri-button.tpl.html",'<div class="kiiri-button" ng-class="{ grey: type === \'grey\', disabled: disabled, loading: loading, fill: fill }" ng-click="onClick($event)"><span ng-transclude></span><i class="fa fa-refresh fa-spin" ng-if="loading"></i></div>'),a.put("src/input-field/kiiri-input-field.tpl.html",'<div class="kiiri-input-field" ng-class="{ fill: fill }"><input type="{{type}}" placeholder="{{placeholder}}" name="{{name}}" ng-model="value" ng-class="{ invalid: invalid }"></div>'),a.put("src/modal/kiiri-modal.tpl.html",'<div class="kiiri-modal" ng-cloak><div class="modal-frame not-visible" ng-class="{ visible: isOpen, \'fade-in\': isOpen, \'fade-out\': fadeOut }"><div class="modal-body" ng-class="{\'overflow-inherit\': overflow === \'inherit\'}" clickoutside is-enabled="isOpen" on-click-outside="closeModal" ng-transclude></div></div><div ng-show="isOpen" class="modal-background ng-hide"></div></div>')}]);